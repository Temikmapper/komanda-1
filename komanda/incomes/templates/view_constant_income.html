{% extends 'base.html' %}
{% block content %}
<div class="columns">
    <div class="column">
        <form method="get" action={% url 'view_all_constant_incomes' %}>
            <button class="button is-primary" id="view_all_constant_incomes_btn">
                <span>View all</span>
            </button>
        </form>
    </div>
    <div class="column has-text-centered">
        <h1 class="title">Constant expence</h1>
    </div>
    <div class="column"></div>
</div>
<div class="box">
    <h1 class="title" id="income_name_title">{{ income.name }}</h2>
    <div class="columns">
        <div class="column">
            <h2 class="subtitle">Started: <span id="start_date"><strong>{{ income.start_date|date:"d.m.Y" }}</strong></span></h2>
        </div>
        <div class="column has-text-centered">
            <h2 class="subtitle">Ending: <span id="finish_date"><strong>{{ income.finish_date|date:"d.m.Y" }}</strong></span></h2>
        </div>
        <div class="column" style="text-align:right;" id="goal_left">
            <h2 class="subtitle">
                <span id="income_value">{{ income.get_current_value }}</span> â‚½
            </h2>
        </div>
    </div>
</div>
<div class="box">
    <div class="timeline">
        <header class="timeline-header">
            <span class="tag is-medium is-primary">Start</span>
        </header>
        {% for item in income.get_history %}
            <div class="timeline-item">
                <div class="timeline-marker"></div>
                <div class="timeline-content">
                    <p class="heading">
                        {{ item.date }}
                    </p>
                    <p>
                        {{ item.value }}
                    </p>
                </div>
            </div>
        {% endfor %}
        <div class="timeline-header">
            <span class="tag is-medium is-primary">End</span>
        </div>
    </div>
</div>
{% endblock content %}
